# wallet-test-service
(Тестовое задание)
*****************************
### Описание задания
Необходимо создать REST-приложение, которое позволяет управлять балансом кошельков: выполнять операции пополнения и снятия средств, а также получать текущий баланс.

## Стек технологий: 
Java 17, PostgreSql, Spring Boot (3.4.5), Maven, Liquibase, Slf4j, Mock, Lombok, Hibernate, Docker и Docker Compose
### Возможности:
1. REST API с использованием Spring Boot v.3.4.5 и Java 17
2. Для зранения данных использован PostgreSQL 
3. Обеспечена миграция базы данных с помощью Liquibase
4. Обеспечена работа в конкурентной среде (до 1000 RPS на один кошелек)
5. Все запросы обрабатываются корректно, избегая ошибок 50Х.
6. Обеспечена обработка ошибок при неверных запросах (невалидный JSON, несуществующий кошелек, недостаточно средств)
7. Приложение и база данных запускается в Docker-контейнерах с помощью Docker Compose
8. Предусмотрена настройка параметров приложения и базы данных без пересборки контейнеров
9. Эндпоинты покрыты тестами


## Запуск

* С помощью Maven (в системе должна быть установлена PostgresSQL с БД wallet_db):

```
./mvnw spring-boot:run
```

* С помощью Docker compose (в системе должен быть установлен Maven, а также установлен и запущен Docker(-compose)):

```
mvn clean package 

docker-compose up --build  
```
## Проверка работы приложения через POSTMAN:  
### Создание операции по кошельку  
* POST `http://localhost:8080/api/v1/wallet` - Cоздание операции по кошельку  
Тело запроса:  
json  
Копировать код:  
{
  "walletId": "UUID",  
  "operationType": "DEPOSIT" | "WITHDRAW",  
  "amount": 1000  
}  
Описание:  
walletId — уникальный идентификатор кошелька (UUID)  
operationType — тип операции: пополнение или снятие  
amount — сумма операции (целое число)  
Ответ:  
json
{
  Операция успешно завершена
  Текущий баланс после операции: 1000
}
### Получение баланса кошелька по UUID:
GET /api/v1/wallets/{walletId}
Ввести команду в POSTMAN
* GET `http://localhost:8080/api/v1/wallets/11111111-1111-1111-1111-111111111111` - Получение баланса по UUID  
Ответ:
json  
{  
    UUID: 11111111-1111-1111-1111-111111111111,  
    Текущий баланс: 1000  
} 
